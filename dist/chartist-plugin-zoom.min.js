!function(a,b){"function"==typeof define&&define.amd?define(["chartist"],function(c){return a.returnExportsGlobal=b(c)}):"object"==typeof exports?module.exports=b(require("chartist")):a["Chartist.plugins.zoom"]=b(Chartist)}(this,function(a){return function(a,b,c){"use strict";function d(a){a.attr({style:"display:none"})}function e(a){a.attr({style:"display:block"})}function f(a,b){var c=a.x,d=a.y,e=b.x-c,f=b.y-d;return e<0&&(e=-e,c=b.x),f<0&&(f=-f,d=b.y),{x:c,y:d,width:e,height:f}}function g(a,b){return h(a.clientX,a.clientY,b)}function h(a,b,c){var d="svg"===c.tagName?c:c.ownerSVGElement,e=d.getScreenCTM(),f=d.createSVGPoint();return f.x=a,f.y=b,(f=f.matrixTransform(e.inverse()))||{x:0,y:0}}function i(a,b){var c=b.bounds||b.range,d=c.max,e=c.min;if(b.scale&&"log"===b.scale.type){var f=b.scale.base;return Math.pow(f,a*j(d/e,f)/b.axisLength)*e}return a*(c.range||d-e)/b.axisLength+e}function j(a,b){return Math.log(a)/Math.log(b)}var k={pointClipOffset:5};c.plugins=c.plugins||{},c.plugins.zoom=function(a){return a=c.extend({},k,a),function(b){function h(a){var b=g(a,v);return b.id=a.identifier,b}function j(a){for(var b=0;b<B.length;b++){if(B[b].id===a)return b}return-1}function k(a){for(var b=a.changedTouches,c=0;c<b.length;c++)B.push(h(b[c]));B.length>1&&(u.attr(f(B[0],B[1])),e(u))}function l(a){for(var b=a.changedTouches,c=0;c<b.length;c++){var d=j(b[c].identifier);B.splice(d,1,h(b[c]))}B.length>1&&(u.attr(f(B[0],B[1])),e(u),a.preventDefault())}function m(a){n(a.changedTouches)}function n(a){for(var b=0;b<a.length;b++){var c=j(a[b].identifier);c>=0&&B.splice(c,1)}}function o(a){B.length>1&&s(f(B[0],B[1])),n(a.changedTouches),d(u)}function p(a){if(0===a.button){var b=g(a,v);q(b,y)&&(z=b,u.attr(f(z,z)),e(u),a.preventDefault())}}function q(a,b){return a.x>=b.x1&&a.x<=b.x2&&a.y>=b.y2&&a.y<=b.y1}function r(b){if(0===b.button&&z){s(f(z,g(b,v))),z=null,d(u)}else a.resetOnRightMouseBtn&&2===b.button&&(C(),b.preventDefault())}function s(a){if(a.width>5&&a.height>5){var c=Math.max(0,a.x-y.x1),d=Math.min(y.width(),c+a.width),e=Math.min(y.height(),y.y1-a.y),f=Math.max(0,e-a.height);b.options.axisX.highLow={low:i(c,w),high:i(d,w)},b.options.axisY.highLow={low:i(f,x),high:i(e,x)},b.update(b.data,b.options),A&&A(b,C)}}function t(a){if(z){var b=g(a,v);q(b,y)&&(u.attr(f(z,b)),a.preventDefault())}}if(b instanceof c.Line){var u,v,w,x,y,z,A=a.onZoom,B=[];b.on("draw",function(a){var b=a.type;"line"!==b&&"bar"!==b&&"area"!==b||a.element.attr({"clip-path":"url(#line-mask)"})}),b.on("created",function(c){function e(a,b){g.elem("clipPath",{id:a}).elem("rect",{x:y.x1-b,y:y.y2-b,width:h+b+b,height:i+b+b,fill:"white"})}function f(a,b){v.addEventListener(a,b)}w=c.axisX,x=c.axisY,y=c.chartRect,v=c.svg._node,u=c.svg.elem("rect",{x:10,y:10,width:100,height:100},"ct-zoom-rect"),d(u);var g=c.svg.querySelector("defs")||c.svg.elem("defs"),h=y.width(),i=y.height();e("line-mask",0),e("point-mask",a.pointClipOffset);for(var j=b.svg.querySelectorAll("."+c.options.classNames.series).svgElements,n=0;n<j.length;++n)j[n].attr({"clip-path":"url(#point-mask)"});f("mousedown",p),f("mouseup",r),f("mousemove",t),f("touchstart",k),f("touchmove",l),f("touchend",o),f("touchcancel",m)});var C=function(){b.options.axisX.highLow=null,b.options.axisY.highLow=null,b.update(b.data,b.options)}}}}}(window,document,a),a.plugins.zoom});
//# sourceMappingURL=chartist-plugin-zoom.min.js.map